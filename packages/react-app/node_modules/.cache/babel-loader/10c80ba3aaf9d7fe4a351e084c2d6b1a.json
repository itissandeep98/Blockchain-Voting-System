{"ast":null,"code":"var _s = $RefreshSig$();\n\nimport { Fetcher, Route, Token, WETH } from \"@uniswap/sdk\";\nimport { usePoller } from \"eth-hooks\";\nimport { useState } from \"react\";\nexport default function useExchangePrice(targetNetwork, mainnetProvider, pollTime) {\n  _s();\n\n  const [price, setPrice] = useState(0);\n\n  const pollPrice = () => {\n    async function getPrice() {\n      if (!mainnetProvider) return 0;\n\n      if (targetNetwork.price) {\n        setPrice(targetNetwork.price);\n      } else {\n        const DAI = new Token(mainnetProvider.network ? mainnetProvider.network.chainId : 1, \"0x6B175474E89094C44Da98b954EedeAC495271d0F\", 18);\n        const pair = await Fetcher.fetchPairData(DAI, WETH[DAI.chainId], mainnetProvider);\n        const route = new Route([pair], WETH[DAI.chainId]);\n        setPrice(parseFloat(route.midPrice.toSignificant(6)));\n      }\n    } // getPrice();\n\n  };\n\n  usePoller(pollPrice, pollTime || 9777);\n  return price;\n}\n\n_s(useExchangePrice, \"bQwuml90QlW/Kzh3xIGvg7XjHoY=\", false, function () {\n  return [usePoller];\n});","map":{"version":3,"sources":["C:/Users/KINSHUK/Desktop/ETH/qd-off-chain-voters-and-candidates/packages/react-app/src/hooks/ExchangePrice.js"],"names":["Fetcher","Route","Token","WETH","usePoller","useState","useExchangePrice","targetNetwork","mainnetProvider","pollTime","price","setPrice","pollPrice","getPrice","DAI","network","chainId","pair","fetchPairData","route","parseFloat","midPrice","toSignificant"],"mappings":";;AAAA,SAASA,OAAT,EAAkBC,KAAlB,EAAyBC,KAAzB,EAAgCC,IAAhC,QAA4C,cAA5C;AACA,SAASC,SAAT,QAA0B,WAA1B;AACA,SAASC,QAAT,QAAyB,OAAzB;AAEA,eAAe,SAASC,gBAAT,CAA0BC,aAA1B,EAAyCC,eAAzC,EAA0DC,QAA1D,EAAoE;AAAA;;AACjF,QAAM,CAACC,KAAD,EAAQC,QAAR,IAAoBN,QAAQ,CAAC,CAAD,CAAlC;;AAEA,QAAMO,SAAS,GAAG,MAAM;AACtB,mBAAeC,QAAf,GAA0B;AACxB,UAAI,CAACL,eAAL,EAAsB,OAAO,CAAP;;AACtB,UAAID,aAAa,CAACG,KAAlB,EAAyB;AACvBC,QAAAA,QAAQ,CAACJ,aAAa,CAACG,KAAf,CAAR;AACD,OAFD,MAEO;AACL,cAAMI,GAAG,GAAG,IAAIZ,KAAJ,CACVM,eAAe,CAACO,OAAhB,GAA0BP,eAAe,CAACO,OAAhB,CAAwBC,OAAlD,GAA4D,CADlD,EAEV,4CAFU,EAGV,EAHU,CAAZ;AAKA,cAAMC,IAAI,GAAG,MAAMjB,OAAO,CAACkB,aAAR,CAAsBJ,GAAtB,EAA2BX,IAAI,CAACW,GAAG,CAACE,OAAL,CAA/B,EAA8CR,eAA9C,CAAnB;AACA,cAAMW,KAAK,GAAG,IAAIlB,KAAJ,CAAU,CAACgB,IAAD,CAAV,EAAkBd,IAAI,CAACW,GAAG,CAACE,OAAL,CAAtB,CAAd;AACAL,QAAAA,QAAQ,CAACS,UAAU,CAACD,KAAK,CAACE,QAAN,CAAeC,aAAf,CAA6B,CAA7B,CAAD,CAAX,CAAR;AACD;AACF,KAfqB,CAgBtB;;AACD,GAjBD;;AAkBAlB,EAAAA,SAAS,CAACQ,SAAD,EAAYH,QAAQ,IAAI,IAAxB,CAAT;AAEA,SAAOC,KAAP;AACD;;GAxBuBJ,gB;UAqBtBF,S","sourcesContent":["import { Fetcher, Route, Token, WETH } from \"@uniswap/sdk\";\r\nimport { usePoller } from \"eth-hooks\";\r\nimport { useState } from \"react\";\r\n\r\nexport default function useExchangePrice(targetNetwork, mainnetProvider, pollTime) {\r\n  const [price, setPrice] = useState(0);\r\n\r\n  const pollPrice = () => {\r\n    async function getPrice() {\r\n      if (!mainnetProvider) return 0;\r\n      if (targetNetwork.price) {\r\n        setPrice(targetNetwork.price);\r\n      } else {\r\n        const DAI = new Token(\r\n          mainnetProvider.network ? mainnetProvider.network.chainId : 1,\r\n          \"0x6B175474E89094C44Da98b954EedeAC495271d0F\",\r\n          18,\r\n        );\r\n        const pair = await Fetcher.fetchPairData(DAI, WETH[DAI.chainId], mainnetProvider);\r\n        const route = new Route([pair], WETH[DAI.chainId]);\r\n        setPrice(parseFloat(route.midPrice.toSignificant(6)));\r\n      }\r\n    }\r\n    // getPrice();\r\n  };\r\n  usePoller(pollPrice, pollTime || 9777);\r\n\r\n  return price;\r\n}\r\n"]},"metadata":{},"sourceType":"module"}