{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\KINSHUK\\\\Desktop\\\\ETH\\\\qd-off-chain-voters-and-candidates\\\\packages\\\\react-app\\\\src\\\\components\\\\Contract\\\\index.jsx\",\n    _s = $RefreshSig$();\n\nimport { Card } from \"antd\";\nimport React, { useMemo, useState } from \"react\";\nimport { useContractExistsAtAddress, useContractLoader } from \"../../hooks\";\nimport Account from \"../Account\";\nimport DisplayVariable from \"./DisplayVariable\";\nimport FunctionForm from \"./FunctionForm\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst noContractDisplay = /*#__PURE__*/_jsxDEV(\"div\", {\n  children: [\"Loading...\", \" \", /*#__PURE__*/_jsxDEV(\"div\", {\n    style: {\n      padding: 32\n    },\n    children: [\"You need to run\", \" \", /*#__PURE__*/_jsxDEV(\"span\", {\n      className: \"highlight\",\n      style: {\n        marginLeft: 4,\n\n        /* backgroundColor: \"#f1f1f1\", */\n        padding: 4,\n        borderRadius: 4,\n        fontWeight: \"bolder\"\n      },\n      children: \"yarn run chain\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 13,\n      columnNumber: 7\n    }, this), \" \", \"and\", \" \", /*#__PURE__*/_jsxDEV(\"span\", {\n      className: \"highlight\",\n      style: {\n        marginLeft: 4,\n\n        /* backgroundColor: \"#f1f1f1\", */\n        padding: 4,\n        borderRadius: 4,\n        fontWeight: \"bolder\"\n      },\n      children: \"yarn run deploy\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 20,\n      columnNumber: 7\n    }, this), \" \", \"to see your contract here.\"]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 11,\n    columnNumber: 5\n  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n    style: {\n      padding: 32\n    },\n    children: [/*#__PURE__*/_jsxDEV(\"span\", {\n      style: {\n        marginRight: 4\n      },\n      role: \"img\",\n      \"aria-label\": \"warning\",\n      children: \"\\u2622\\uFE0F\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 29,\n      columnNumber: 7\n    }, this), \"Warning: You might need to run\", /*#__PURE__*/_jsxDEV(\"span\", {\n      className: \"highlight\",\n      style: {\n        marginLeft: 4,\n\n        /* backgroundColor: \"#f1f1f1\", */\n        padding: 4,\n        borderRadius: 4,\n        fontWeight: \"bolder\"\n      },\n      children: \"yarn run deploy\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 33,\n      columnNumber: 7\n    }, this), \" \", /*#__PURE__*/_jsxDEV(\"i\", {\n      children: \"again\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 39,\n      columnNumber: 7\n    }, this), \" after the frontend comes up!\"]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 28,\n    columnNumber: 5\n  }, this)]\n}, void 0, true, {\n  fileName: _jsxFileName,\n  lineNumber: 9,\n  columnNumber: 3\n}, this);\n\nconst isQueryable = fn => (fn.stateMutability === \"view\" || fn.stateMutability === \"pure\") && fn.inputs.length === 0;\n\nexport default function Contract(_ref) {\n  _s();\n\n  let {\n    customContract,\n    account,\n    gasPrice,\n    signer,\n    provider,\n    name,\n    show,\n    price,\n    blockExplorer,\n    chainId\n  } = _ref;\n  const contracts = useContractLoader(provider, {\n    chainId\n  });\n  let contract;\n\n  if (!customContract) {\n    contract = contracts ? contracts[name] : \"\";\n  } else {\n    contract = customContract;\n  }\n\n  const address = contract ? contract.address : \"\";\n  const contractIsDeployed = useContractExistsAtAddress(provider, address);\n  const displayedContractFunctions = useMemo(() => contract ? Object.values(contract.interface.functions).filter(fn => fn.type === \"function\" && !(show && show.indexOf(fn.name) < 0)) : [], [contract, show]);\n  const [refreshRequired, triggerRefresh] = useState(false);\n  const contractDisplay = displayedContractFunctions.map(fn => {\n    if (isQueryable(fn)) {\n      // If there are no inputs, just display return value\n      return /*#__PURE__*/_jsxDEV(DisplayVariable, {\n        contractFunction: contract[fn.name],\n        functionInfo: fn,\n        refreshRequired: refreshRequired,\n        triggerRefresh: triggerRefresh\n      }, fn.name, false, {\n        fileName: _jsxFileName,\n        lineNumber: 84,\n        columnNumber: 9\n      }, this);\n    } // If there are inputs, display a form to allow users to provide these\n\n\n    return /*#__PURE__*/_jsxDEV(FunctionForm, {\n      contractFunction: fn.stateMutability === \"view\" || fn.stateMutability === \"pure\" ? contract[fn.name] : contract.connect(signer)[fn.name],\n      functionInfo: fn,\n      provider: provider,\n      gasPrice: gasPrice,\n      triggerRefresh: triggerRefresh\n    }, \"FF\" + fn.name, false, {\n      fileName: _jsxFileName,\n      lineNumber: 95,\n      columnNumber: 7\n    }, this);\n  });\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    style: {\n      margin: \"auto\",\n      width: \"70vw\"\n    },\n    children: /*#__PURE__*/_jsxDEV(Card, {\n      title: /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [name, /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            float: \"right\"\n          },\n          children: [/*#__PURE__*/_jsxDEV(Account, {\n            address: address,\n            localProvider: provider,\n            injectedProvider: provider,\n            mainnetProvider: provider,\n            price: price,\n            blockExplorer: blockExplorer\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 117,\n            columnNumber: 15\n          }, this), account]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 116,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 114,\n        columnNumber: 11\n      }, this),\n      size: \"large\",\n      style: {\n        marginTop: 25,\n        width: \"100%\"\n      },\n      loading: contractDisplay && contractDisplay.length <= 0,\n      children: contractIsDeployed ? contractDisplay : noContractDisplay\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 112,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 111,\n    columnNumber: 5\n  }, this);\n}\n\n_s(Contract, \"UHemcvODJJ/mPkx9BbRxI8KGQcs=\", false, function () {\n  return [useContractLoader, useContractExistsAtAddress];\n});\n\n_c = Contract;\n\nvar _c;\n\n$RefreshReg$(_c, \"Contract\");","map":{"version":3,"sources":["C:/Users/KINSHUK/Desktop/ETH/qd-off-chain-voters-and-candidates/packages/react-app/src/components/Contract/index.jsx"],"names":["Card","React","useMemo","useState","useContractExistsAtAddress","useContractLoader","Account","DisplayVariable","FunctionForm","noContractDisplay","padding","marginLeft","borderRadius","fontWeight","marginRight","isQueryable","fn","stateMutability","inputs","length","Contract","customContract","account","gasPrice","signer","provider","name","show","price","blockExplorer","chainId","contracts","contract","address","contractIsDeployed","displayedContractFunctions","Object","values","interface","functions","filter","type","indexOf","refreshRequired","triggerRefresh","contractDisplay","map","connect","margin","width","float","marginTop"],"mappings":";;;AAAA,SAASA,IAAT,QAAqB,MAArB;AACA,OAAOC,KAAP,IAAgBC,OAAhB,EAAyBC,QAAzB,QAAyC,OAAzC;AACA,SAASC,0BAAT,EAAqCC,iBAArC,QAA8D,aAA9D;AACA,OAAOC,OAAP,MAAoB,YAApB;AACA,OAAOC,eAAP,MAA4B,mBAA5B;AACA,OAAOC,YAAP,MAAyB,gBAAzB;;;AAEA,MAAMC,iBAAiB,gBACrB;AAAA,2BACa,GADb,eAEE;AAAK,IAAA,KAAK,EAAE;AAAEC,MAAAA,OAAO,EAAE;AAAX,KAAZ;AAAA,kCACkB,GADlB,eAEE;AACE,MAAA,SAAS,EAAC,WADZ;AAEE,MAAA,KAAK,EAAE;AAAEC,QAAAA,UAAU,EAAE,CAAd;;AAAiB;AAAkCD,QAAAA,OAAO,EAAE,CAA5D;AAA+DE,QAAAA,YAAY,EAAE,CAA7E;AAAgFC,QAAAA,UAAU,EAAE;AAA5F,OAFT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,YAFF,EAOU,GAPV,SAQM,GARN,eASE;AACE,MAAA,SAAS,EAAC,WADZ;AAEE,MAAA,KAAK,EAAE;AAAEF,QAAAA,UAAU,EAAE,CAAd;;AAAiB;AAAkCD,QAAAA,OAAO,EAAE,CAA5D;AAA+DE,QAAAA,YAAY,EAAE,CAA7E;AAAgFC,QAAAA,UAAU,EAAE;AAA5F,OAFT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,YATF,EAcU,GAdV;AAAA;AAAA;AAAA;AAAA;AAAA,UAFF,eAmBE;AAAK,IAAA,KAAK,EAAE;AAAEH,MAAAA,OAAO,EAAE;AAAX,KAAZ;AAAA,4BACE;AAAM,MAAA,KAAK,EAAE;AAAEI,QAAAA,WAAW,EAAE;AAAf,OAAb;AAAiC,MAAA,IAAI,EAAC,KAAtC;AAA4C,oBAAW,SAAvD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,YADF,iDAKE;AACE,MAAA,SAAS,EAAC,WADZ;AAEE,MAAA,KAAK,EAAE;AAAEH,QAAAA,UAAU,EAAE,CAAd;;AAAiB;AAAkCD,QAAAA,OAAO,EAAE,CAA5D;AAA+DE,QAAAA,YAAY,EAAE,CAA7E;AAAgFC,QAAAA,UAAU,EAAE;AAA5F,OAFT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,YALF,EAUU,GAVV,eAWE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,YAXF;AAAA;AAAA;AAAA;AAAA;AAAA,UAnBF;AAAA;AAAA;AAAA;AAAA;AAAA,QADF;;AAoCA,MAAME,WAAW,GAAGC,EAAE,IAAI,CAACA,EAAE,CAACC,eAAH,KAAuB,MAAvB,IAAiCD,EAAE,CAACC,eAAH,KAAuB,MAAzD,KAAoED,EAAE,CAACE,MAAH,CAAUC,MAAV,KAAqB,CAAnH;;AAEA,eAAe,SAASC,QAAT,OAWZ;AAAA;;AAAA,MAX8B;AAC/BC,IAAAA,cAD+B;AAE/BC,IAAAA,OAF+B;AAG/BC,IAAAA,QAH+B;AAI/BC,IAAAA,MAJ+B;AAK/BC,IAAAA,QAL+B;AAM/BC,IAAAA,IAN+B;AAO/BC,IAAAA,IAP+B;AAQ/BC,IAAAA,KAR+B;AAS/BC,IAAAA,aAT+B;AAU/BC,IAAAA;AAV+B,GAW9B;AACD,QAAMC,SAAS,GAAG1B,iBAAiB,CAACoB,QAAD,EAAW;AAAEK,IAAAA;AAAF,GAAX,CAAnC;AACA,MAAIE,QAAJ;;AACA,MAAI,CAACX,cAAL,EAAqB;AACnBW,IAAAA,QAAQ,GAAGD,SAAS,GAAGA,SAAS,CAACL,IAAD,CAAZ,GAAqB,EAAzC;AACD,GAFD,MAEO;AACLM,IAAAA,QAAQ,GAAGX,cAAX;AACD;;AAED,QAAMY,OAAO,GAAGD,QAAQ,GAAGA,QAAQ,CAACC,OAAZ,GAAsB,EAA9C;AACA,QAAMC,kBAAkB,GAAG9B,0BAA0B,CAACqB,QAAD,EAAWQ,OAAX,CAArD;AAEA,QAAME,0BAA0B,GAAGjC,OAAO,CACxC,MACE8B,QAAQ,GACJI,MAAM,CAACC,MAAP,CAAcL,QAAQ,CAACM,SAAT,CAAmBC,SAAjC,EAA4CC,MAA5C,CACExB,EAAE,IAAIA,EAAE,CAACyB,IAAH,KAAY,UAAZ,IAA0B,EAAEd,IAAI,IAAIA,IAAI,CAACe,OAAL,CAAa1B,EAAE,CAACU,IAAhB,IAAwB,CAAlC,CADlC,CADI,GAIJ,EANkC,EAOxC,CAACM,QAAD,EAAWL,IAAX,CAPwC,CAA1C;AAUA,QAAM,CAACgB,eAAD,EAAkBC,cAAlB,IAAoCzC,QAAQ,CAAC,KAAD,CAAlD;AACA,QAAM0C,eAAe,GAAGV,0BAA0B,CAACW,GAA3B,CAA+B9B,EAAE,IAAI;AAC3D,QAAID,WAAW,CAACC,EAAD,CAAf,EAAqB;AACnB;AACA,0BACE,QAAC,eAAD;AAEE,QAAA,gBAAgB,EAAEgB,QAAQ,CAAChB,EAAE,CAACU,IAAJ,CAF5B;AAGE,QAAA,YAAY,EAAEV,EAHhB;AAIE,QAAA,eAAe,EAAE2B,eAJnB;AAKE,QAAA,cAAc,EAAEC;AALlB,SACO5B,EAAE,CAACU,IADV;AAAA;AAAA;AAAA;AAAA,cADF;AASD,KAZ0D,CAa3D;;;AACA,wBACE,QAAC,YAAD;AAEE,MAAA,gBAAgB,EACdV,EAAE,CAACC,eAAH,KAAuB,MAAvB,IAAiCD,EAAE,CAACC,eAAH,KAAuB,MAAxD,GACIe,QAAQ,CAAChB,EAAE,CAACU,IAAJ,CADZ,GAEIM,QAAQ,CAACe,OAAT,CAAiBvB,MAAjB,EAAyBR,EAAE,CAACU,IAA5B,CALR;AAOE,MAAA,YAAY,EAAEV,EAPhB;AAQE,MAAA,QAAQ,EAAES,QARZ;AASE,MAAA,QAAQ,EAAEF,QATZ;AAUE,MAAA,cAAc,EAAEqB;AAVlB,OACO,OAAO5B,EAAE,CAACU,IADjB;AAAA;AAAA;AAAA;AAAA,YADF;AAcD,GA5BuB,CAAxB;AA8BA,sBACE;AAAK,IAAA,KAAK,EAAE;AAAEsB,MAAAA,MAAM,EAAE,MAAV;AAAkBC,MAAAA,KAAK,EAAE;AAAzB,KAAZ;AAAA,2BACE,QAAC,IAAD;AACE,MAAA,KAAK,eACH;AAAA,mBACGvB,IADH,eAEE;AAAK,UAAA,KAAK,EAAE;AAAEwB,YAAAA,KAAK,EAAE;AAAT,WAAZ;AAAA,kCACE,QAAC,OAAD;AACE,YAAA,OAAO,EAAEjB,OADX;AAEE,YAAA,aAAa,EAAER,QAFjB;AAGE,YAAA,gBAAgB,EAAEA,QAHpB;AAIE,YAAA,eAAe,EAAEA,QAJnB;AAKE,YAAA,KAAK,EAAEG,KALT;AAME,YAAA,aAAa,EAAEC;AANjB;AAAA;AAAA;AAAA;AAAA,kBADF,EASGP,OATH;AAAA;AAAA;AAAA;AAAA;AAAA,gBAFF;AAAA;AAAA;AAAA;AAAA;AAAA,cAFJ;AAiBE,MAAA,IAAI,EAAC,OAjBP;AAkBE,MAAA,KAAK,EAAE;AAAE6B,QAAAA,SAAS,EAAE,EAAb;AAAiBF,QAAAA,KAAK,EAAE;AAAxB,OAlBT;AAmBE,MAAA,OAAO,EAAEJ,eAAe,IAAIA,eAAe,CAAC1B,MAAhB,IAA0B,CAnBxD;AAAA,gBAqBGe,kBAAkB,GAAGW,eAAH,GAAqBpC;AArB1C;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,UADF;AA2BD;;GA3FuBW,Q;UAYJf,iB,EASSD,0B;;;KArBLgB,Q","sourcesContent":["import { Card } from \"antd\";\r\nimport React, { useMemo, useState } from \"react\";\r\nimport { useContractExistsAtAddress, useContractLoader } from \"../../hooks\";\r\nimport Account from \"../Account\";\r\nimport DisplayVariable from \"./DisplayVariable\";\r\nimport FunctionForm from \"./FunctionForm\";\r\n\r\nconst noContractDisplay = (\r\n  <div>\r\n    Loading...{\" \"}\r\n    <div style={{ padding: 32 }}>\r\n      You need to run{\" \"}\r\n      <span\r\n        className=\"highlight\"\r\n        style={{ marginLeft: 4, /* backgroundColor: \"#f1f1f1\", */ padding: 4, borderRadius: 4, fontWeight: \"bolder\" }}\r\n      >\r\n        yarn run chain\r\n      </span>{\" \"}\r\n      and{\" \"}\r\n      <span\r\n        className=\"highlight\"\r\n        style={{ marginLeft: 4, /* backgroundColor: \"#f1f1f1\", */ padding: 4, borderRadius: 4, fontWeight: \"bolder\" }}\r\n      >\r\n        yarn run deploy\r\n      </span>{\" \"}\r\n      to see your contract here.\r\n    </div>\r\n    <div style={{ padding: 32 }}>\r\n      <span style={{ marginRight: 4 }} role=\"img\" aria-label=\"warning\">\r\n        ☢️\r\n      </span>\r\n      Warning: You might need to run\r\n      <span\r\n        className=\"highlight\"\r\n        style={{ marginLeft: 4, /* backgroundColor: \"#f1f1f1\", */ padding: 4, borderRadius: 4, fontWeight: \"bolder\" }}\r\n      >\r\n        yarn run deploy\r\n      </span>{\" \"}\r\n      <i>again</i> after the frontend comes up!\r\n    </div>\r\n  </div>\r\n);\r\n\r\nconst isQueryable = fn => (fn.stateMutability === \"view\" || fn.stateMutability === \"pure\") && fn.inputs.length === 0;\r\n\r\nexport default function Contract({\r\n  customContract,\r\n  account,\r\n  gasPrice,\r\n  signer,\r\n  provider,\r\n  name,\r\n  show,\r\n  price,\r\n  blockExplorer,\r\n  chainId,\r\n}) {\r\n  const contracts = useContractLoader(provider, { chainId });\r\n  let contract;\r\n  if (!customContract) {\r\n    contract = contracts ? contracts[name] : \"\";\r\n  } else {\r\n    contract = customContract;\r\n  }\r\n\r\n  const address = contract ? contract.address : \"\";\r\n  const contractIsDeployed = useContractExistsAtAddress(provider, address);\r\n\r\n  const displayedContractFunctions = useMemo(\r\n    () =>\r\n      contract\r\n        ? Object.values(contract.interface.functions).filter(\r\n            fn => fn.type === \"function\" && !(show && show.indexOf(fn.name) < 0),\r\n          )\r\n        : [],\r\n    [contract, show],\r\n  );\r\n\r\n  const [refreshRequired, triggerRefresh] = useState(false);\r\n  const contractDisplay = displayedContractFunctions.map(fn => {\r\n    if (isQueryable(fn)) {\r\n      // If there are no inputs, just display return value\r\n      return (\r\n        <DisplayVariable\r\n          key={fn.name}\r\n          contractFunction={contract[fn.name]}\r\n          functionInfo={fn}\r\n          refreshRequired={refreshRequired}\r\n          triggerRefresh={triggerRefresh}\r\n        />\r\n      );\r\n    }\r\n    // If there are inputs, display a form to allow users to provide these\r\n    return (\r\n      <FunctionForm\r\n        key={\"FF\" + fn.name}\r\n        contractFunction={\r\n          fn.stateMutability === \"view\" || fn.stateMutability === \"pure\"\r\n            ? contract[fn.name]\r\n            : contract.connect(signer)[fn.name]\r\n        }\r\n        functionInfo={fn}\r\n        provider={provider}\r\n        gasPrice={gasPrice}\r\n        triggerRefresh={triggerRefresh}\r\n      />\r\n    );\r\n  });\r\n\r\n  return (\r\n    <div style={{ margin: \"auto\", width: \"70vw\" }}>\r\n      <Card\r\n        title={\r\n          <div>\r\n            {name}\r\n            <div style={{ float: \"right\" }}>\r\n              <Account\r\n                address={address}\r\n                localProvider={provider}\r\n                injectedProvider={provider}\r\n                mainnetProvider={provider}\r\n                price={price}\r\n                blockExplorer={blockExplorer}\r\n              />\r\n              {account}\r\n            </div>\r\n          </div>\r\n        }\r\n        size=\"large\"\r\n        style={{ marginTop: 25, width: \"100%\" }}\r\n        loading={contractDisplay && contractDisplay.length <= 0}\r\n      >\r\n        {contractIsDeployed ? contractDisplay : noContractDisplay}\r\n      </Card>\r\n    </div>\r\n  );\r\n}\r\n"]},"metadata":{},"sourceType":"module"}