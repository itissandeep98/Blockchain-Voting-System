{"ast":null,"code":"import{useEffect,useRef}from\"react\";// helper hook to call a function regularly in time intervals\nexport default function usePoller(fn,delay,extraWatch){var savedCallback=useRef();// Remember the latest fn.\nuseEffect(function(){savedCallback.current=fn;},[fn]);// Set up the interval.\n// eslint-disable-next-line consistent-return\nuseEffect(function(){function tick(){savedCallback.current();}if(delay!==null){var id=setInterval(tick,delay);return function(){return clearInterval(id);};}},[delay]);// run at start too\nuseEffect(function(){fn();},[extraWatch]);}","map":{"version":3,"sources":["C:/Users/KINSHUK/Desktop/ETH/qd-off-chain-voters-and-candidates/packages/react-app/src/hooks/Poller.js"],"names":["useEffect","useRef","usePoller","fn","delay","extraWatch","savedCallback","current","tick","id","setInterval","clearInterval"],"mappings":"AAAA,OAASA,SAAT,CAAoBC,MAApB,KAAkC,OAAlC,CAEA;AAEA,cAAe,SAASC,CAAAA,SAAT,CAAmBC,EAAnB,CAAuBC,KAAvB,CAA8BC,UAA9B,CAA0C,CACvD,GAAMC,CAAAA,aAAa,CAAGL,MAAM,EAA5B,CACA;AACAD,SAAS,CAAC,UAAM,CACdM,aAAa,CAACC,OAAd,CAAwBJ,EAAxB,CACD,CAFQ,CAEN,CAACA,EAAD,CAFM,CAAT,CAGA;AACA;AACAH,SAAS,CAAC,UAAM,CACd,QAASQ,CAAAA,IAAT,EAAgB,CACdF,aAAa,CAACC,OAAd,GACD,CACD,GAAIH,KAAK,GAAK,IAAd,CAAoB,CAClB,GAAMK,CAAAA,EAAE,CAAGC,WAAW,CAACF,IAAD,CAAOJ,KAAP,CAAtB,CACA,MAAO,kBAAMO,CAAAA,aAAa,CAACF,EAAD,CAAnB,EAAP,CACD,CACF,CARQ,CAQN,CAACL,KAAD,CARM,CAAT,CASA;AACAJ,SAAS,CAAC,UAAM,CACdG,EAAE,GACH,CAFQ,CAEN,CAACE,UAAD,CAFM,CAAT,CAGD","sourcesContent":["import { useEffect, useRef } from \"react\";\r\n\r\n// helper hook to call a function regularly in time intervals\r\n\r\nexport default function usePoller(fn, delay, extraWatch) {\r\n  const savedCallback = useRef();\r\n  // Remember the latest fn.\r\n  useEffect(() => {\r\n    savedCallback.current = fn;\r\n  }, [fn]);\r\n  // Set up the interval.\r\n  // eslint-disable-next-line consistent-return\r\n  useEffect(() => {\r\n    function tick() {\r\n      savedCallback.current();\r\n    }\r\n    if (delay !== null) {\r\n      const id = setInterval(tick, delay);\r\n      return () => clearInterval(id);\r\n    }\r\n  }, [delay]);\r\n  // run at start too\r\n  useEffect(() => {\r\n    fn();\r\n  }, [extraWatch]);\r\n}\r\n"]},"metadata":{},"sourceType":"module"}